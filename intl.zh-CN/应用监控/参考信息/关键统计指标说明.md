# 关键统计指标说明

本文说明了ARMS应用监控各页面的关键统计指标的含义。

## 基本概念

本文涉及以下基本概念：

-   APDEX性能指数

    [APDEX](http://www.apdex.org/)性能指数（Application Performance Index）是一个国际通用的应用性能计算标准。该标准将用户对应用的使用感受定义为三个等级：

    -   满意（0~T）
    -   可容忍（T~4T）
    -   不满意（大于4T）
    ![Apdex](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7870348951/p43776.gif)

    图片来源：[apdex.org](http://www.apdex.org/images/overview_figure1_performancezones_256_111.gif)

    计算公式为：

    ```
    Apdex=(满意数+可容忍数/2)/总样本量
    ```

    ARMS取应用的平均响应时间作为计算指标，并将T定义为500毫秒。

-   实例

    实例是指被监控的应用所部署的机器，以JVM为粒度。例如在下图中，“a3”是一个应用，下方的每一行都是该应用所部署的一台机器，即一个实例。

    ![实例图](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6082446061/p42262.png)


## 相关统计页面

-   应用列表页面

    在控制台左侧导航栏中选择**应用监控** \> **应用列表**，即可看到各应用的健康度、请求数、错误数、响应时间、异常数、状态和最近10分钟响应时间曲线。

-   应用总览页面

    在应用监控列表页面单击应用名称，即可进入应用总览页面。在页面顶部选择相应菜单，可以查看其他维度的统计信息。

    -   概览分析页签
        -   应用提供的服务：请求量和平均响应时长
        -   应用依赖的服务：请求量、平均响应时长、实例数和HTTP-状态码
        -   系统信息：CPU、内存和负载
        -   统计分析：慢接口调用分析和平均响应时间、异常类型和出现次数
    -   拓扑图页签
        -   应用拓扑图
        -   实例健康： 绿色表示正常，黄色表示警告，红色表示严重。
        -   调用类型：

            |调用类型|描述|备注|
            |:---|:-|:-|
            |调用本地API|对本地API进行操作的调用|API调用|
            |HTTP入口|客户端使用HTTP协议调用该应用的入口|服务入口调用|
            |调用Dubbo|Dubbo的消费者产生的调用|服务入口调用|
            |调用HSF|HSF服务的消费者产生的调用|服务入口调用|
            |调用HTTP|该调用为该应用对其他服务发起的HTTP调用|服务间调用|
            |提供HSF|HSF的生产者产生的调用|服务间调用|
            |提供Dubbo|Dubbo的生产者产生的调用|服务间调用|
            |调用MySQL|对MySQL进行操作的调用|数据库调用|
            |调用Oracle|对Oracle进行操作的调用|数据库调用|
            |调用Redis|对Redis进行操作的调用|数据库调用|

        -   实例IP： 显示该应用下所有实例的IP。
        -   应用每分钟的请求数、响应时间和错误率。
    -   3D拓扑页签
        -   QPS：Query Per Second（每秒查询数）
        -   RT\(ms\)：Response Time（响应时间，单位为毫秒）
        -   Error：Error QPS（每秒错误查询数）
-   应用详情页面

    此页面展示当前应用的调用详细信息。选择不同页签，可切换展示实例响应时间、请求数、错误数统计，以及实例概览、SQL分析、异常分析、接口快照等维度的详细分析。

-   接口调用页面

    此页面展示当前应用所开放的接口的统计信息。选择不同页签，可切换展示实例响应时间、请求数、错误数统计，以及实例概览、SQL分析、异常分析、接口快照等维度的详细分析。

-   数据库调用页面

    该部分展示应用所关联的数据库调用情况。选择不同页签，可切换展示实例响应时间、请求数、错误数统计，以及实例概览、SQL分析、异常分析等维度的详细分析。


## 相关页签的关键统计指标说明

-   响应时间：应用、实例调用的平均响应时间，或数据库操作的平均执行响应时间。
-   请求数：应用、实例调用的请求调用次数，或数据库操作的执行次数。
-   错误数：应用、实例调用的错误调用次数，或数据库操作中异常执行次数。
-   概览页签

    |上报字段|描述|
    |:---|:-|
    |请求数|应用、实例调用的请求调用次数，或数据库操作的执行次数。|
    |响应时间|应用、实例调用的平均响应时间，或数据库操作的平均执行响应时间。|
    |错误率|（应用、实例调用的异常调用次数，或数据库操作的异常次数）/请求数。|

-   SQL分析页签

    |上报字段|描述|
    |:---|:-|
    |SQL调用统计|柱状图与左Y轴为数据库请求数统计，折线图与右Y轴为数据库响应时间。|
    |平均耗时|本次数据库调用的平均耗时。|
    |调用次数|该应用此类型数据库调用次数。|

-   异常分析页签

    |上报字段|描述|
    |:---|:-|
    |异常统计|柱状图为该应用、实例、数据库的异常次数。|
    |异常类型|采集到的抛错类型。|
    |异常详细信息|抛错的详细信息。|
    |平均耗时|本次错误调用的平均耗时。|
    |错误数|该异常类型的错误出现的次数。|

-   接口快照页签

    |上报字段|描述|
    |:---|:-|
    |耗时|应用、实例的接口的调用耗时。|
    |状态|应用、实例的接口的调用返回状态，绿色表示正常返回，红色表示抛异常。|
    |TraceId|应用、实例调用的索引ID，单击可以跳转到该调用链详情。|


