# 管理报警模板

ARMS 提供了报警模板功能，您可以使用报警模板批量创建报警，提高配置报警规则的效率。

ARMS默认提供的报警模板包括：

-   应用监控
    -   应用监控默认报警-数据库异常报警模板：数据库响应时间长或数据库调用出错场景的报警。
    -   应用监控默认报警-异常调用报警模板：存在超时调用或错误调用场景的报警。
    -   应用监控默认报警-主机监控报警模板：CPU水位过高或磁盘空间不足场景的报警。
    -   应用监控默认报警-进程异常报警模板：进程存活场景的报警。
    -   应用监控默认报警-GC异常报警模板：FullGC过多、FullGC耗时长或YoungGC耗时长场景的报警。
-   前端监控
    -   前端监控默认报警模板：JS错误率过高或JS错误数过多场景的报警。

## 创建报警模板

除 ARMS 默认提供的报警模板外，您还可以根据自身需求选择创建自己的报警模板。ARMS 目前仅支持创建前端监控和应用监控类型的报警模板。

1.  登录[ARMS控制台](https://arms-ap-southeast-1.console.aliyun.com/#/home)。

2.  在左侧导航栏选择**报警管理** \> **报警模板管理**。

3.  在报警模板管理页面，单击右上角的**创建报警模板**。

    -   单击**前端监控报警模板**，在弹出的创建报警模板对话框中输入所有必填信息，完成后单击**保存**。各字段详情请参见[通用基础字段含义](#section_x9s_jul_7zb)。

        ![db_alarm_retcode_template](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7463498951/p84317.png)

    -   单击**应用监控报警模板**，在弹出的创建报警模板对话框中输入所有必填信息，完成后单击**保存**。各字段详情请参见[通用基础字段含义](#section_x9s_jul_7zb)。

        ![db_alarm_am_template](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7463498951/p84323.png)

4.  报警模板创建完成后，在报警模板列表选中刚才创建的模板，单击右侧**操作**列的**创建报警**。在弹出的创建报警对话框中输入所有必填信息，完成后单击**保存**。

    ![db_alarm_single_alarm](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7463498951/p84329.png)

    选择**报警管理** \> **报警策略管理**，在报警规则和历史页面的报警规则页签，刚才创建的报警规则显示在报警列表中，表示您已使用前面创建的报警模板成功创建了报警规则。

5.  在报警模板列表选中刚才创建的模板，单击右侧**操作**列的**批量创建报警**。

6.  在弹出的批量创建报警对话框中，在左侧的**未选中列表**选择框单击多个应用，将其添加至右侧的**已选列表**选择框。完成后单击**保存**，并在弹出的提示对话框单击**确定**。

    ![db_alarm_batch_alarm](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7463498951/p84338.png)

    选择**报警管理** \> **报警策略管理**，在报警规则和历史页面的报警规则页签，刚才批量创建的报警规则显示在报警列表中，表示您已使用前面创建的报警模板成功批量创建了报警规则。


## 管理报警模板

您可以对报警模板执行开启自动生成、停止自动生成、编辑、删除和复制等操作。

1.  登录[ARMS控制台](https://arms-ap-southeast-1.console.aliyun.com/#/home)。

2.  在左侧导航栏选择**报警管理** \> **报警模板管理**。

3.  在报警模板列表中找到目标模板，在右侧的**操作**列中，按需对目标模板采取以下操作。

    -   当创建新应用时，如需为新应用自动创建报警规则，请单击**开启自动生成**，并在停止对话框中单击**确定**。如无需为新应用自动创建报警规则，单击**停止自动生成**，并在停止对话框中单击**确定**。

        **说明：** 新创建的报警模板默认为新应用自动创建报警规则。

    -   如需编辑报警模板，请单击**编辑**，在编辑报警模板对话框中编辑报警模板，并单击**保存**。
    -   如需删除报警模板，请单击**删除**，并在删除对话框中单击**删除**。
    -   如需复制报警模板，请单击**复制**，在编辑报警模板对话框中编辑需复制的报警模板，并单击**保存**。

## 通用基础字段含义

**创建报警**对话框的基础字段含义见下表。

![创建报警对话框](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7966613061/p174562.png)

|字段|含义|说明|
|--|--|--|
|应用站点|已创建的监控任务。|在下拉菜单中选择。|
|报警类型|报警指标的类型。|三种报警的报警指标类型各不相同：-   应用监控报警：应用入口调用、应用调用类型统计、数据库指标、JVM监控、主机监控和异常接口调用。
-   前端监控报警：页面指标、API指标、自定义指标和页面API指标。
-   自定义监控报警：基于已有下钻数据集创建报警和基于已有通用数据集创建报警。 |
|报警维度|配置报警指标（数据集）的维度，可选择为：无、= 、遍历。|-   配置为无：报警内容中透出这个维度所有数值的和。
-   配置为= ：具体内容需手动填写。
-   配置为遍历：会在报警内容中透出实际触发报警的维度内容。 |
|最近N分钟|报警判断最近N分钟内数据结果是否达到触发条件。|N的范围为：1~60分钟。|
|通知方式|支持邮件、短信、钉钉机器人和Webhook四种方式。|可勾选多种方式。若需设置钉钉机器人报警请参见。[设置钉钉机器人报警](https://www.alibabacloud.com/help/zh/doc-detail/106247.htm)|
|报警静默期开关|可选择为开启或关闭，默认为开启状态。|-   开启报警静默期开关：若数据一直处于触发状态，首次触发报警后，24小时后才会发送第二次报警信息。当数据恢复正常，会收到数据恢复通知并解除报警。若数据再次触发报警，则会再次发送报警信息。
-   关闭报警静默期开关：若报警连续触发，将会每分钟发送一次报警信息。 |
|报警级别|包括警告、错误和致命。|-|
|通知时间|报警发送时的通知时间。此时间范围外将不发送报警通知，但仍会有报警事件记录。|查看报警事件记录请参见[管理报警](https://www.alibabacloud.com/help/zh/doc-detail/42966.htm)。|
|通知内容|自定义的报警通知内容。|您可以编辑默认模板。在模板中，除$报警名称、$筛选、 $报警时间和$报警内容等4个变量（暂不支持其它变量）为固定搭配，其余内容均可自定义。|

[创建报警](/intl.zh-CN/大盘和报警/创建报警.md)

[创建常用报警规则](/intl.zh-CN/大盘和报警/使用教程/创建常用报警规则.md)

