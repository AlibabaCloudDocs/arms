# 任务运行错误处理 {#concept_57787_zh .concept}

本文主要介绍了类型转换异常、维度限流异常、表达式异常和 JSON 切分异常等 4 种异常的原因和解决方案。

## `TLogParseException`类型转换异常 {#section_ohq_ywy_gfb .section}

异常原因：通常用户刚开始使用 ARMS 的时候，会使用 ARMS 的智能切分功能对样本数据进行切分。对于样本数据中是数字的字段，智能切分器会将其置为 LongKey，而实际数据过来时，发现数据有部分是字符串型的，这个时候就会报类型转换异常。

解决方案：

1.  重新进入监控任务编辑页面。
2.  在第 2 步日志清洗页面，选择**自定义切分**。
3.  根据错误提示，调整相应的类型转换异常字段。比如 String 无法转为 Long 的状况下，可以点开 Keys，找到 StringKey 替换 LongKey 即可。

##  `FlowControlException` 维度限流异常 { .section}

异常原因： 数据集大维度状况下，计算存储资源消耗会非常严重。在有限资源的状况下，ARMS 为了保证大部分监控任务能正常运行，对数据集维度个数进行了一定的限制，当前维度个数限制为 1000 个。当数据集的维度大小超出 1000 个时，ARMS 就会提示维度限流异常。

解决方案：

1.  根据错误提示中提到的数据集 ID，在**自定义监控** \> **数据集管理**页面搜索确定出现异常的数据集。
2.  查看维度的设置，看是否是自己真正需要观测的维度。如果不是自己需要关注的维度，请调整数据集，将维度配置的地方设置为**无**。
3.  回到监控任务页面，点击**暂停**按钮，再点击**恢复**按钮，新的配置即可生效。

如果确定配置的维度是自己需要关注的维度，请在 ARMS 控制台首页点击**联系我们**，与我们的客服人员联系，申请 VIP。我们会为您开通独立的计算存储资源，解决维度限流异常。

##  `ExpressionRuntimeException` 表达式异常 { .section}

异常原因： 通常是由于实际的数据与配置的切分器出现了不匹配。

解决方案：

1.  暂停监控任务，进入监控任务编辑页面。
2.  进入第 2 步日志清洗页面。
3.  将出现异常的日志，贴入日志抓取结果下的文本框。
4.  逐步拉开降低切分器的复杂度，点击**日志切分预览**，查看切分是否正常，最终找到不符合预期的部分。
5.  通过调整切分器或者调整输出数据解决该异常。

##  `JSONException` JSON 切分异常 { .section}

异常原因： 通常出现这个异常的原因是出现了异常的 JSON 数据，导致 JSON 切分器无法正常工作。

解决方案： 根据错误提示，调整自己的日志输出为符合切分规则的 JSON。

