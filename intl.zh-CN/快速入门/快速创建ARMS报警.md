# 快速创建ARMS报警

为监控任务创建报警可在满足报警条件时通过邮件、短信、钉钉等渠道实时报警，主动帮助您发现异常。本文将分别以一个实例介绍创建应用监控报警、前端监控报警、自定义监控报警和Prometheus监控报警的方法。

## 前提条件

确保您已成功创建一个监控任务和管理联系人分组，请参见以下文档：

-   [创建应用监控任务](/intl.zh-CN/快速入门/创建应用监控任务.md)
-   [创建联系人](/intl.zh-CN/大盘和报警/创建联系人.md)
-   [创建和管理联系人分组]()

## 创建应用监控报警

若需为应用监控任务创建一个JVM-GC次数同比报警，具体操作步骤如下：

1.  登录[ARMS控制台](https://arms-intl.console.aliyun.com/#/home)，在左侧导航栏中选择**报警管理** \> **报警策略管理**。
2.  在报警规则和历史页面的右上角单击**创建报警** \> **应用监控报警**。
3.  在弹出的**创建报警**对话框中输入所有必填信息，完成后单击**保存**。

    根据页面提示配置如下参数：

    ![创建报警](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0699922951/p127257.png)

    1.  填写报警名称，例如：JVM-GC次数同比报警。
    2.  在**应用站点**栏选择您已创建的监控任务。
    3.  在**类型**栏选择监控指标的类型，例如：JVM监控。
    4.  设置维度为遍历。
    5.  设置报警规则。
        1.  选择**同时满足下述规则**。
        2.  编辑报警规则，例如：N=5时JVM\_FullGC累计次数的平均值与上小时同比上升100% 时则报警。

            **说明：** 若需设置多条报警规则，单击报警规则右侧的加号（+），即可编辑第二条报警规则。

    6.  选择通知方式。例如：选择邮件。
    7.  设置通知对象。在**全部联系组**框中单击联系人分组的名称，该联系人分组出现**在已选联系组**框中，则设置成功。

## 创建前端监控报警

若需为前端监控任务创建一个页面指标JS错误率和JS错误数报警，具体操作步骤如下：

1.  在控制台左侧导航栏中选择**报警管理** \> **报警策略管理**。

2.  在报警规则和历史页面的右上角单击**创建报警** \> **前端监控报警**。

3.  在弹出的**创建报警**对话框中输入所有必填信息，完成后单击**保存**。

    根据页面提示配置如下参数：

    ![创建前端报警](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0699922951/p127262.png)

    1.  填写报警名称，例如：页面指标报警。
    2.  在**应用站点**栏选择您已创建的监控任务。
    3.  在**类型**栏选择监控指标的类型，例如：页面指标。
    4.  设置维度为遍历。
    5.  设置报警规则。
        1.  选择**同时满足下述规则**。
        2.  编辑报警规则，例如：N=10时JS错误率的平均值大于等于20时则报警。
        3.  单击报警规则右侧的**加号（+）**，编辑第二条报警规则，例如：N=10时JS错误数的总和大于等于20时则报警。
    6.  选择通知方式，例如：选择短信和邮件。
    7.  设置通知对象。在**全部联系组**中单击联系人分组的名称，该联系人分组出现**在已选联系组**中，则设置成功。

## 创建Prometheus监控报警

若需为Prometheus监控任务创建一个网络接收压力报警，具体操作步骤如下：

1.  在控制台左侧导航栏中选择**报警管理** \> **报警策略管理**。

2.  在报警规则和历史页面的右上角单击**创建报警** \> **Prometheus**。

3.  在**创建报警**对话框中输入所有必填信息，完成后单击**保存**。

根据页面提示配置如下参数：

![创建Prometheus监控报警](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0699922951/p127264.png)

1.  填写报警名称，例如：网络接收压力报警。
2.  选择要创建报警的Prometheus监控对应的**集群**。
3.  选择**类型**为**grafana**。
4.  选择要监控的具体**大盘**和**图表**。
5.  设置报警规则。
    1.  选择**同时满足下述规则**。
    2.  编辑报警规则，例如：N=5时网络接收数据字节（MB）的平均值大于等于3时则报警。

        **说明：** 一个Grafana图表中可能有A、B、C三条曲线数据，您可设置监控其中的一条线。

    3.  在**PromQL**输入框中编辑或重新输入PromQL语句。

        **说明：** PromQL语句中包含的`$`符号会导致报错，您需要删除包含`$`符号的语句中`=`左右两边的参数及`=`。例如：将`sum (rate (container_network_receive_bytes_total{instance=~"^$HostIp.*"}[1m]))`修改为`sum (rate (container_network_receive_bytes_total[1m]))`。

6.  选择通知方式，例如：选择短信。
7.  设置通知对象。在**全部联系组**中单击联系人分组的名称，该联系人分组出现在**已选联系组**中，即设置成功。

