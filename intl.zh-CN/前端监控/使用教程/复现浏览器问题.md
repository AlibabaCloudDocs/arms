# 复现浏览器问题 {#concept_265050 .concept}

利用 ARMS 前端监控的慢会话追踪功能可以查看页面静态资源加载的性能瀑布图，根据页面性能数据可深入定位页面资源加载情况，复现浏览器问题，帮助您更快地定位性能瓶颈。

## 问题分析 {#section_k1l_zxb_wfb .section}

网页加载较慢是用户经常会反馈的问题，也是前端非常关注的问题之一。但定位、排查解决这类问题就通常会花费非常多的时间，主要原因如下：

1.  复现困难

    用户在访问某网页时，页面将会加载在用户端的浏览器上。由于页面的加载耗时受地域、网络情况、浏览器或者运营商等因素影响，想知道用户在访问页面时的具体情况，复现是非常困难的。

2.  监控信息缺少，无法深入排查

    大部分前端监控会通过 PerformanceTiming 对象来获取完整的页面加载耗时信息，这将缺失页面静态资源的加载情况，导致无法直接复现现场和深入定位性能瓶颈。


## 解决方案 {#section_erv_cyb_wfb .section}

只需将应用接入 ARMS 前端监控，并且在接入时开启页面资源上报功能，然后利用 ARMS 前端监控的慢会话追踪功能，即可帮助您快速定位性能瓶颈。

## 步骤一：配置 SDK {#section_w2p_dyb_wfb .section}

在 ARMS 前端监控 SDK 部分，默认是不上报页面加载的静态资源信息的。使用慢会话追踪功能对慢页面加载问题快速定位时，需要获取页面加载的静态资源信息，因此配置 SDK 时，需要将 `config` 部分`sendResource` 配置为 `true`，重新部署后即可以上报相关信息。具体配置如下：

``` {#codeblock_8qj_rx2_y7n}
<script>!(function(c,b,d,a){c[a]||(c[a]={});c[a].config
{pid:"atc889zkcf@8cc3f63543da641",imgUrl:"https://arms
retcode.aliyuncs.com/r.png?",sendResource:true};with(b)with(body
)with(insertBefore(createElement("script"),firstChild))setAttribute("c
rossorigin","",src=d)})(wi
ndow,document,"https://retcode.alicdn.com/retcode/bl.js","__bl");
</script>
```

**注意：** 静态资源加载信息的上报是在页面 onload 时会触发，上报信息量较大。如果该应用对于页面性能要求很高且不需要慢会话追踪功能时，无需开启该配置。

## 步骤二：排查问题 {#section_w1f_jgc_wfb .section}

您可以通过两种不同入口的方式来排查问题，两种方式均能达到使用慢会话追踪功能排查网页性能问题的目的。

-   方式一：从访问速度开始排查
    1.  在 ARMS 控制台左侧导航栏中，选择**前端监控**。

    2.  在前端监控页面上，单击您的应用名称。

    3.  在左侧导航栏中选择**访问速度**。

        在本示例中，该页面性能较差，在 11:00 时的页面完全加载时间达到 36.7 秒。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/218480/155851412747275_zh-CN.png)

    4.  在**访问速度**页面上，拖动右侧的滚动条至**慢页面会话追踪（TOP20）**模块。该模块会列出该页面在指定时间段内加载最慢的 20 个会话。

        在本示例中，您可以看到在 11:36:46 的页面加载时间为 36.72s，可以判断这次访问是导致页面加载时间骤增的直接原因。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/218480/155851412847303_zh-CN.png)

    5.  在**慢页面会话追踪（TOP20）**模块的**页面**列中单击目标页面名称，进入会话详情页面。

        会话详情页面顶部的**页面信息**模块展示了本次访问的客户端 IP 地址、浏览器、操作系统等 UA 信息，帮助您进一步确认问题是由网络原因还是其他原因导致的。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/218480/155851412847306_zh-CN.png)

        会话详情页面的**页面资源加载瀑布图**模块展示了页面静态资源加载的瀑布图，帮助您快速定位资源加载的性能瓶颈。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/218480/155851412847304_zh-CN.png)

-   方式二：从会话追踪开始排查
    1.  在 ARMS 控制台左侧导航栏中，选择**前端监控**。

    2.  在前端监控页面上，单击您的应用名称。

    3.  在左侧导航栏中选择**会话追踪**，进入会话列表页。

        会话列表页展示了该应用下加载时长 Top100 的会话，可以按照页面、会话 ID、浏览器、浏览器版本号进行过滤，帮助用户可以快速发现耗时较长的会话信息。

    4.  在会话列表页单击目标页面**操作**列的**详情**。

操作至此，已使用慢会话追踪功能完成问题排查，该功能可以帮助你复现用户在访问页面时的页面资源加载情况，快速定位性能瓶颈问题。

## 步骤三：设置报警 {#section_g8r_efy_iv3 .section}

除了在出现问题后被动诊断错误原因之外，还可以借助 ARMS 的报警功能占据主动。您可以针对一个接口或全部接口创建报警，在出现问题的第一时间向运维团队发送通知。

创建报警操作步骤请参见[快速创建 ARMS 报警](../../../../intl.zh-CN/快速入门/快速创建 ARMS 报警.md#)。

## 相关文档 {#section_qx4_cqc_wfb .section}

-   [页面访问速度](intl.zh-CN/前端监控/控制台功能/页面访问速度.md#)
-   [慢会话追踪](intl.zh-CN/前端监控/控制台功能/慢会话追踪.md#)
-   [快速创建 ARMS 报警](../../../../intl.zh-CN/快速入门/快速创建 ARMS 报警.md#)

