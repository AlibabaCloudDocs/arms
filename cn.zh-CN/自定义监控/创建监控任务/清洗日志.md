# 清洗日志 {#concept_vfn_2vl_jhb .concept}

清洗日志是指通过切分、静态 Join 等操作，将日志数据转化为标准 Key-Value（KV）格式的过程。

## 前提条件 {#prereq_fmn_wbd_zdb .section}

-   已完成自定义监控任务的以下步骤：[配置数据源](cn.zh-CN/自定义监控/创建监控任务/配置数据源.md#)。
-   如果是已经创建完毕的自定义监控任务，且该任务正在运行，请先暂停或停止该任务。

## 背景信息 {#section_b5z_vds_n2b .section}

日志清洗有两种模式：智能切分和自定义切分。智能切分模式会对抓取的日志数据进行自动切分，将其转化为标准的 KV 格式。您还可以调整方案，包括删除和修改等操作。如果智能切分方案无法满足需求，您可以使用可视化的自定义切分功能。

## 操作步骤 { .section}

1.  在控制台左侧导航栏中选择**自定义监控** \> **监控任务管理**。

2.  在监控任务管理页面上找到目标监控任务，单击右侧的**编辑**，并单击**下一步**。

3.  在日志清洗页面单击**智能切分**页签，并单击**获取方案**。

    ARMS 会对**日志抓取结果**区域框中的样例日志进行智能切分，切分方案显示在下方表格中。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/152303/155496240243751_zh-CN.png) 

    将鼠标悬停在需要修改的字段所在的行，会显示编辑（）和删除（）图标。

    -   如需编辑字段，单击编辑图标，然后在编辑切分方案对话框中修改字段名称或切分类型。
    -   如需删除字段，单击删除图标，然后在删除切分字段对话框中单击**删除**。
    **说明：** 修改方案后，如需恢复为推荐方案，请单击**重置方案**。

4.  如果智能切分方案无法满足需求，请单击**自定义切分**页签。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/152303/155496240243752_zh-CN.png) 

    -   A：样例日志区域框
    -   B：可视化清洗流程编辑区域框
    -   C：清洗结果预览区域框
5.  在可视化清洗流程编辑区域框，按需执行以下操作。

    -   如需插入积木块，请单击编辑区左侧菜单中的积木块类别，然后单击要插入的积木块。选中的积木块会出现在右侧的空白编辑区域框，您可以用鼠标自由拖放。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/152303/155496240243758_zh-CN.png) 

    -   如需拼接积木块，请按住目标积木块，将其拖移至其他积木块的接口处并释放，积木块将会自动吸附在一起。
    -   如需移除积木块，请按住目标积木块，将其拖移至右下角的垃圾桶图表上并释放。
    **说明：** 积木块的本质是 XML 代码，如需复用拼装好的积木块，请单击**导入/导出**，然后在导入/导出切分方案对话框中，拷贝当前代码留待日后使用（即导出），或者将其他可复用的代码粘贴至此处（即导入）。

6.  单击**日志切分预览**。

    日志切分结果显示在清洗结果预览区域框。

7.  单击**保存**和**下一步**。


## 参考 {#section_m3h_5fs_n2b .section}

-   [配置数据源](cn.zh-CN/自定义监控/创建监控任务/配置数据源.md#)
-   [创建报警](cn.zh-CN/自定义监控/创建监控任务/创建报警.md#)
-   [日志清洗中的系统字段](cn.zh-CN/自定义监控/日志清洗进阶教程/日志清洗中的系统字段.md#)
-   [智能切分可识别的时间格式](cn.zh-CN/自定义监控/日志清洗进阶教程/智能切分可识别的时间格式.md#)
-   [自定义切分的使用](cn.zh-CN/自定义监控/日志清洗进阶教程/自定义切分的使用.md#)
-   [内置切分器](cn.zh-CN/自定义监控/日志清洗进阶教程/内置切分器.md#)
-   [自定义切分中 if/assign 的语法介绍](cn.zh-CN/自定义监控/日志清洗进阶教程/自定义切分中 if__assign 的语法介绍.md#)

