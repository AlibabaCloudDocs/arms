# 报警说明 {#concept_rr3_55h_hhb .concept}

ARMS 提供了应用监控报警、前端监控报警和自定义监控报警功能。本文将以前端监控报警的配置页面为例，解释三种监控的通用字段。

## 功能概述 {#section_wlj_3n3_mfb .section}

为监控任务创建报警可以帮助您主动发现异常。针对不同的业务场景，应用监控报警、前端监控报警和自定义监控报警具有以下功能：

-   分别提供了多种报警指标类型。
-   支持设置任意连续时间的平均、总和、最大、最小值报警。
-   支持自定义报警内容和丰富的报警通道。
-   提供特殊情况下报警数据修订功能。

**说明：** 

-   ARMS 报警为轮询报警，约一分钟一次。
-   新建报警大约在 10 分钟内生效，报警判断会存在 1 ~ 3 分钟的延时。

## 通用基础字段含义 {#section_nfh_dyh_mfb .section}

下图为前端监控报警的**新建报警**对话框，基础字段含义见下列表。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/152338/155489749943306_zh-CN.png)

|字段|含义|备注|
|--|--|--|
|应用站点|已创建的监控任务。|在下拉菜单中选择。|
|报警类型|报警指标的类型。|三种报警的报警指标类型各不相同：-   应用监控报警：应用入口调用、数据库指标、JVM 监控、主机监控和异常接口调用。
-   前端监控报警：页面指标、API 指标、自定义指标和页面 API 指标。
-   自定义监控报警：基于已有下钻数据集创建报警和基于已有通用数据集创建报警。

|
|报警维度|配置报警指标（数据集）的维度，可选择为：无、= 、遍历。| -   配置为无：报警内容中透出这个维度所有数值的和。
-   配置为 = ：具体内容需手动填写。
-   配置为遍历：会在报警内容中透出实际触发报警的维度内容。

 |
|最近 N 分钟|报警判断最近 N 分钟内数据结果是否达到触发条件。|N 的范围为：3~3600 分钟。|
|通知方式|支持邮件、短信和钉钉机器人三种方式。|可勾选多种方式。若需设置钉钉机器人报警请参见[设置钉钉机器人报警](intl.zh-CN/大盘和报警/设置钉钉机器人报警.md#)。|
|报警静默期开关|可选择为开启或关闭，默认为开启状态。| -   开启报警静默期开关：若数据一直处于触发状态，首次触发报警后，24 小时后才会发送第二次报警信息。当数据恢复正常，会收到数据恢复通知并解除报警。若数据再次触发报警，则会再次发送报警信息。
-   关闭报警静默期开关：若报警连续触发，将会每分钟发送一次报警信息。

 |
|报警级别|包括警告、错误和致命。|Null|
|通知时间|报警发送时的通知时间。此时间范围外将不发送报警通知，但仍会有报警事件记录。|查看报警事件记录请参见[管理报警](intl.zh-CN/大盘和报警/管理报警.md#)。|
|通知内容|自定义的报警通知内容。|您可以编辑默认模板。在模板中，除 $报警名称、$筛选、 $报警时间和 $报警内容等 4 个变量（暂不支持其它变量）为固定搭配，其余内容均可自定义。|

## 通用复杂字段含义 {#section_psj_yx3_3gb .section}

**环比、同比**

-   环比上升 / 下降 % ：若 β 为最近 N 分钟的数据（可选择为平均值、总和、最大值和最小值），α 为前 2N 分钟到前 N 分钟的数据， 环比为 β 与 α 做比较。

    ![](https://aliware-images.oss-cn-hangzhou.aliyuncs.com/arms/dg_chain_workflow.png)

-   与上小时同比上升 / 下降 %：若 β 为最近 N 分钟的数据（可选择为平均值、总和、最大值和最小值），α 为 上小时最近 N 分钟的数据，与上小时同比为 β 与 α 做比较。

    ![](https://aliware-images.oss-cn-hangzhou.aliyuncs.com/arms/dg_hoh_workflow.png)

-   与昨日同比上升 / 下降 %：若 β 为最近 N 分钟的数据（可选择为平均值、总和、最大值和最小值），α 为昨日同一时刻最近 N 分钟的数据，与昨日同比为 β 与 α 做比较。

    ![](https://aliware-images.oss-cn-hangzhou.aliyuncs.com/arms/dg_dod_workflow.png)


**报警数据修订策略**

报警数据修订策略可选择为补零、补一或补零 Null（默认）。此功能一般用于无数据、异常和环比同比等异常的数据修复。

-   补零： 将被判断的数值修复为 0。
-   补一： 将被判断的数值修复为 1。
-   补零 Null： 不会触发报警。

应用场景

-   异常情况一：无数据

    用户 A 想利用报警功能监控页面访问量。创建报警时，选择前端监控报警，设置报警规则为 N = 5 时页面访问量的总和小于等于 10 则报警。若该页面一直没有被访问，则没有数据上报，不会发送报警。为解决此类问题，可将报警数据修订策略勾选为补零，将没有收到数据视为收到零条数据，符合报警规则，即可收发送报警。

-   异常情况二：复合指标异常

    用户 B 想利用报警功能监控商品的实时单价。创建报警时，选择自定义监控报警，设置变量 a 的数据集为当前总价，变量 b 的数据集为当前商品总数，报警规则为 N = 3 时 （当前总价）/（当前商品总数）的最小值小于等于 10 则报警。若当前商品总数为 0 时，复合指标（当前总价）/（当前商品总数）的值不存在，则不会发送报警。为解决此类问题，可将报警数据修订策略勾选为补零，将复合指标（当前总价）/（当前商品总数）的值视为 0，符合报警规则，即可发送报警。

-   异常情况三：指标环比、同比异常

    用户 C 想利用报警功能监控节点机用户使用 CPU 百分比。创建报警时，选择应用监控，设置报警规则为 N = 3 时节点机用户使用 CPU 百分比的平均值环比下降 100% 则报警。若最近 N 分钟用户的 CPU 故障无法工作，即 α 无法获取，导致环比结果不存在，则不会发送报警。为解决此类问题，可将报警数据修订策略勾选为补一，将环比结果视为下降 100%，符合报警规则，即可发送报警。


